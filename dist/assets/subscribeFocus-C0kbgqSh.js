import{r as l,M as c}from"./index-BA7W61Th.js";const w=(n,{defaultParams:e=[],manual:t,ready:o=!0,refreshDeps:d=[],refreshDepsAction:f})=>{const s=l.useRef(!1);return s.current=!1,c(()=>{!t&&o&&(s.current=!0,n.run(...e))},[o]),c(()=>{s.current||t||(s.current=!0,f?f():n.refresh())},[...d]),{onBefore:()=>o?null:{stopNow:!0}}};w.onInit=({manual:n,ready:e=!0})=>({loading:!n&&e});const v=n=>typeof n=="function",u=!!(typeof window<"u"&&window.document&&window.document.createElement);function a(){return u?document.visibilityState!=="hidden":!0}const i=[];function g(n){return i.push(n),function(){const t=i.indexOf(n);i.splice(t,1)}}if(u){const n=()=>{if(a())for(let e=0;e<i.length;e+=1){const t=i[e];t()}};window.addEventListener("visibilitychange",n,!1)}function b(){return u&&typeof navigator.onLine<"u"?navigator.onLine:!0}const r=[];function h(n){return r.push(n),function(){const t=r.indexOf(n);t>-1&&r.splice(t,1)}}if(u){const n=()=>{if(!(!a()||!b()))for(let e=0;e<r.length;e+=1){const t=r[e];t()}};window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1)}export{h as a,v as b,a as i,g as s,w as u};
