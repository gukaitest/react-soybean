import{a as S}from"./tslib.es6-CwN1OpI9.js";import{e as H,r as q,c1 as G,f as B,h as P,dH as W,aJ as R,dI as $}from"./index-BA7W61Th.js";var I=typeof Element<"u",J=typeof Map=="function",N=typeof Set=="function",Q=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function E(r,e){if(r===e)return!0;if(r&&e&&typeof r=="object"&&typeof e=="object"){if(r.constructor!==e.constructor)return!1;var n,t,a;if(Array.isArray(r)){if(n=r.length,n!=e.length)return!1;for(t=n;t--!==0;)if(!E(r[t],e[t]))return!1;return!0}var f;if(J&&r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(f=r.entries();!(t=f.next()).done;)if(!e.has(t.value[0]))return!1;for(f=r.entries();!(t=f.next()).done;)if(!E(t.value[1],e.get(t.value[0])))return!1;return!0}if(N&&r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(f=r.entries();!(t=f.next()).done;)if(!e.has(t.value[0]))return!1;return!0}if(Q&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(e)){if(n=r.length,n!=e.length)return!1;for(t=n;t--!==0;)if(r[t]!==e[t])return!1;return!0}if(r.constructor===RegExp)return r.source===e.source&&r.flags===e.flags;if(r.valueOf!==Object.prototype.valueOf&&typeof r.valueOf=="function"&&typeof e.valueOf=="function")return r.valueOf()===e.valueOf();if(r.toString!==Object.prototype.toString&&typeof r.toString=="function"&&typeof e.toString=="function")return r.toString()===e.toString();if(a=Object.keys(r),n=a.length,n!==Object.keys(e).length)return!1;for(t=n;t--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[t]))return!1;if(I&&r instanceof Element)return!1;for(t=n;t--!==0;)if(!((a[t]==="_owner"||a[t]==="__v"||a[t]==="__o")&&r.$$typeof)&&!E(r[a[t]],e[a[t]]))return!1;return!0}return r!==r&&e!==e}var U=function(e,n){try{return E(e,n)}catch(t){if((t.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw t}};const X=H(U);var Y=function(r,e){return r===void 0&&(r=[]),e===void 0&&(e=[]),X(r,e)},Z=function(r,e,n){var t=q.useRef(),a=q.useRef(0);Y(e,t.current)||(a.current+=1),t.current=e,G(r,[a.current],n)},D=/(mac|iphone|ipod|ipad)/i.test(typeof navigator<"u"?navigator==null?void 0:navigator.platform:""),z={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,meta:D?[91,93]:[91,92],selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,comma:188,dash:189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},j={ctrl:function(r){return r.ctrlKey},shift:function(r){return r.shiftKey},alt:function(r){return r.altKey},meta:function(r){return r.type==="keyup"?z.meta.includes(r.keyCode):r.metaKey}};function L(r){return W(r)||R(r)}function F(r){var e=Object.keys(j).reduce(function(n,t){return j[t](r)?n+1:n},0);return[16,17,18,91,92].includes(r.keyCode)?e:e+1}function M(r,e,n){var t,a;if(!r.key)return!1;if(R(e))return r.keyCode===e?e:!1;var f=e.split("."),d=0;try{for(var c=S(f),l=c.next();!l.done;l=c.next()){var v=l.value,y=j[v],m=z[v.toLowerCase()];(y&&y(r)||m&&m===r.keyCode)&&d++}}catch(x){t={error:x}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(t)throw t.error}}return n?d===f.length&&F(r)===f.length?e:!1:d===f.length?e:!1}function b(r,e){return $(r)?r:L(r)?function(n){return M(n,r,e)}:Array.isArray(r)?function(n){return r.find(function(t){return M(n,t,e)})}:function(){return!!r}}var _=["keydown"];function tr(r,e,n){var t={},a=t.events,f=a===void 0?_:a,d=t.target,c=t.exactMatch,l=c===void 0?!1:c,v=t.useCapture,y=v===void 0?!1:v,m=B(e),x=B(r);Z(function(){var O,C,K,o=P(d,window);if(o){var k=function(u){var p,g=b(x.current,l),i=g(u),s=L(i)?i:u.key;if(i)return(p=m.current)===null||p===void 0?void 0:p.call(m,u,s)};try{for(var w=S(f),h=w.next();!h.done;h=w.next()){var T=h.value;(K=o==null?void 0:o.addEventListener)===null||K===void 0||K.call(o,T,k,y)}}catch(u){O={error:u}}finally{try{h&&!h.done&&(C=w.return)&&C.call(w)}finally{if(O)throw O.error}}return function(){var u,p,g;try{for(var i=S(f),s=i.next();!s.done;s=i.next()){var A=s.value;(g=o==null?void 0:o.removeEventListener)===null||g===void 0||g.call(o,A,k,y)}}catch(V){u={error:V}}finally{try{s&&!s.done&&(p=i.return)&&p.call(i)}finally{if(u)throw u.error}}}}},[f],d)}export{tr as u};
